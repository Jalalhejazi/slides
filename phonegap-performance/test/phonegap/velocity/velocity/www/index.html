<!DOCTYPE html>
<html>
<head>
<meta name=viewport content=width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no>
</head>
<body>
    
<h1>Cordova how fast are you?</h1>

<script src="cordova-1.7.0.js"></script>
<script type="text/javascript">
          
document.addEventListener("deviceready", ready, false);
    
window.start = new Date
window.iterations = 10 
window.total = 0
    
function ready() {
    
    var win = function(echoed) {
        console.log('ya boy ' + echoed)
    }
    
    var fail = function(err) {
        console.log('you have failed ', err)
    }
    
    var hz,
    period,
    startTime = new Date,
    runs = 0;
    do {
        cordova.exec(win, fail, 'VelocityBench', 'echo', ['hello world eh']);
        runs++;
        totalTime = new Date - startTime;
    } while (totalTime < 1000);
    
    // convert ms to seconds
    totalTime /= 1000;
    
    // period → how long per operation
    period = totalTime / runs;
    
    // hz → the number of operations per second
    hz = 1 / period;
    alert('hz ='+hz)
}
          
</script>
</body>
</html>
